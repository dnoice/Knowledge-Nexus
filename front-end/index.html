<!DOCTYPE html>
<!--
✒ Metadata
    - Title: Knowledge Nexus (Knowledge Nexus Edition - v1.0)
    - File Name: index.html
    - Relative Path: front-end/index.html
    - Artifact Type: docs
    - Version: 1.0.0
    - Date: 2025-01-03
    - Update: Friday, January 03, 2025
    - Author: Dennis 'dnoice' Smaltz
    - A.I. Acknowledgement: Anthropic - Claude Opus 4.5
    - Signature: ︻デ═─── ✦ ✦ ✦ | Aim Twice, Shoot Once!

✒ Description:
    Main HTML template for the Knowledge Nexus application.
    Provides the SPA structure with navigation, main content area,
    and sidebars for the three-column scholarly library interface.

✒ Key Features:
    - Feature 1: Semantic HTML5 structure with ARIA landmarks
    - Feature 2: Three-column responsive layout (nav, main, aside)
    - Feature 3: SVG sprite icon system integration
    - Feature 4: Progressive enhancement ready
    - Feature 5: Accessible navigation patterns
    - Feature 6: Dark/light theme support via CSS custom properties
    - Feature 7: Split-panel reader view structure
    - Feature 8: Modal containers for search and settings
-->
<html lang="en" data-theme="parchment">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Knowledge Nexus - A scholarly knowledge base for exploring theoretical frontiers, computational frameworks, and interdisciplinary insights.">
    <meta name="theme-color" content="#8B7355">

    <title>Knowledge Nexus</title>

    <!-- Preload critical resources -->
    <link rel="preload" href="css/tokens.css" as="style">
    <link rel="preload" href="assets/icons/sprite.svg" as="image">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/typography.css">
    <link rel="stylesheet" href="css/parchment.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="css/graph.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
</head>
<body>
    <!-- SVG Sprite (hidden) -->
    <div id="svg-sprite-container" style="display: none;"></div>

    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Application Container -->
    <div class="app-container" id="app">

        <!-- ================================================================
             HEADER
             ================================================================ -->
        <header class="app-header" role="banner">
            <!-- Logo & Title -->
            <div class="header-brand">
                <button class="nav-toggle show-mobile-only"
                        aria-label="Toggle navigation"
                        aria-expanded="false"
                        aria-controls="app-navigation">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-menu"></use>
                    </svg>
                </button>
                <a href="/" class="brand-link">
                    <svg class="brand-icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-book"></use>
                    </svg>
                    <span class="brand-text">
                        <span class="brand-title">Knowledge Nexus</span>
                        <span class="brand-tagline hide-mobile">Aim Twice, Shoot Once</span>
                    </span>
                </a>
            </div>

            <!-- Search Bar -->
            <div class="header-search">
                <div class="search-box">
                    <svg class="search-icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-search"></use>
                    </svg>
                    <input type="search"
                           id="global-search"
                           class="search-input"
                           placeholder="Search articles, topics, concepts..."
                           aria-label="Search knowledge base"
                           autocomplete="off">
                    <kbd class="search-shortcut hide-mobile">Ctrl+K</kbd>
                </div>
                <div id="search-suggestions" class="search-suggestions" hidden></div>
            </div>

            <!-- Header Actions -->
            <div class="header-actions">
                <button class="btn btn-ghost btn-icon"
                        id="view-toggle"
                        aria-label="Toggle view mode"
                        title="Toggle view mode">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-grid"></use>
                    </svg>
                </button>
                <button class="btn btn-ghost btn-icon"
                        id="graph-toggle"
                        aria-label="Open knowledge graph"
                        title="Knowledge Graph">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-network"></use>
                    </svg>
                </button>
                <button class="btn btn-ghost btn-icon"
                        id="theme-toggle"
                        aria-label="Toggle theme"
                        title="Toggle theme">
                    <svg class="icon icon-light" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-settings"></use>
                    </svg>
                </button>
            </div>
        </header>

        <!-- ================================================================
             NAVIGATION SIDEBAR
             ================================================================ -->
        <nav class="app-nav" id="app-navigation" role="navigation" aria-label="Main navigation">
            <!-- Navigation Header -->
            <div class="nav-header">
                <h2 class="nav-title">Categories</h2>
                <button class="btn btn-ghost btn-sm" id="collapse-all" aria-label="Collapse all categories">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-chevron-up"></use>
                    </svg>
                </button>
            </div>

            <!-- Category Tree -->
            <div class="nav-tree" id="category-tree" role="tree" aria-label="Category navigation">
                <!-- Categories will be dynamically populated -->
                <div class="loading-skeleton">
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                    <div class="skeleton-item"></div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="nav-stats parchment-card">
                <div class="stat-item">
                    <span class="stat-value" id="total-articles">--</span>
                    <span class="stat-label">Articles</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="total-categories">--</span>
                    <span class="stat-label">Categories</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="total-connections">--</span>
                    <span class="stat-label">Connections</span>
                </div>
            </div>
        </nav>

        <!-- ================================================================
             MAIN CONTENT AREA
             ================================================================ -->
        <main class="app-main" id="main-content" role="main">

            <!-- Breadcrumb Navigation -->
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <ol class="breadcrumb-list" id="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="/" class="breadcrumb-link">
                            <svg class="icon" aria-hidden="true">
                                <use href="assets/icons/sprite.svg#icon-home"></use>
                            </svg>
                            <span>Home</span>
                        </a>
                    </li>
                </ol>
            </nav>

            <!-- Content Views Container -->
            <div class="content-views">

                <!-- HOME VIEW -->
                <section class="view view-home active" id="view-home" aria-labelledby="home-title">
                    <header class="view-header">
                        <h1 id="home-title" class="display-heading">
                            <span class="heading-ornament">❧</span>
                            Knowledge Nexus
                            <span class="heading-ornament">❧</span>
                        </h1>
                        <p class="view-subtitle">
                            A curated collection of theoretical frontiers, computational frameworks,
                            and interdisciplinary insights for the discerning mind.
                        </p>
                    </header>

                    <!-- Featured Categories Grid -->
                    <div class="featured-section">
                        <h2 class="section-title">Explore by Domain</h2>
                        <div class="category-grid grid-auto-fit" id="featured-categories">
                            <!-- Categories will be dynamically populated -->
                        </div>
                    </div>

                    <!-- Recent Articles -->
                    <div class="recent-section">
                        <h2 class="section-title">Recent Additions</h2>
                        <div class="article-list" id="recent-articles">
                            <!-- Articles will be dynamically populated -->
                        </div>
                    </div>

                    <!-- Knowledge Graph Preview -->
                    <div class="graph-preview-section parchment-card">
                        <div class="graph-preview-header">
                            <h2 class="section-title">Knowledge Connections</h2>
                            <button class="btn btn-outline btn-sm" id="explore-graph">
                                <svg class="icon" aria-hidden="true">
                                    <use href="assets/icons/sprite.svg#icon-external"></use>
                                </svg>
                                Explore Full Graph
                            </button>
                        </div>
                        <div class="graph-preview-container" id="graph-preview">
                            <!-- Mini graph will be rendered here -->
                        </div>
                    </div>
                </section>

                <!-- CATEGORY VIEW -->
                <section class="view view-category" id="view-category" aria-labelledby="category-title" hidden>
                    <header class="view-header category-header">
                        <div class="category-icon-large" id="category-icon-container">
                            <!-- Category icon will be inserted -->
                        </div>
                        <div class="category-info">
                            <h1 id="category-title" class="page-title">Category Name</h1>
                            <p id="category-description" class="view-subtitle">Category description</p>
                            <div class="category-meta">
                                <span class="meta-item" id="category-article-count">
                                    <svg class="icon" aria-hidden="true">
                                        <use href="assets/icons/sprite.svg#icon-file"></use>
                                    </svg>
                                    <span>0 articles</span>
                                </span>
                            </div>
                        </div>
                    </header>

                    <!-- Subcategories -->
                    <div class="subcategories-section" id="subcategories-container">
                        <!-- Subcategories will be dynamically populated -->
                    </div>

                    <!-- Category Articles -->
                    <div class="category-articles">
                        <div class="section-header">
                            <h2 class="section-title">Articles</h2>
                            <div class="sort-controls">
                                <label for="sort-select" class="sr-only">Sort articles by</label>
                                <select id="sort-select" class="form-select form-select-sm">
                                    <option value="date-desc">Newest First</option>
                                    <option value="date-asc">Oldest First</option>
                                    <option value="title-asc">Title A-Z</option>
                                    <option value="title-desc">Title Z-A</option>
                                    <option value="reading-time">Reading Time</option>
                                </select>
                            </div>
                        </div>
                        <div class="article-list" id="category-articles">
                            <!-- Articles will be dynamically populated -->
                        </div>
                    </div>
                </section>

                <!-- ARTICLE READER VIEW -->
                <section class="view view-reader" id="view-reader" aria-labelledby="article-title" hidden>
                    <div class="reader-container" id="reader-container" data-panels="1">
                        <!-- Primary Panel -->
                        <article class="reader-panel" id="panel-primary">
                            <header class="panel-header">
                                <div class="panel-tabs" role="tablist">
                                    <button class="panel-tab active"
                                            role="tab"
                                            aria-selected="true"
                                            data-tab="content">
                                        Content
                                    </button>
                                    <button class="panel-tab"
                                            role="tab"
                                            aria-selected="false"
                                            data-tab="notes">
                                        My Notes
                                    </button>
                                    <button class="panel-tab"
                                            role="tab"
                                            aria-selected="false"
                                            data-tab="citations">
                                        Citations
                                    </button>
                                </div>
                                <div class="panel-controls">
                                    <button class="panel-control-btn"
                                            aria-label="Add panel"
                                            id="add-panel-btn"
                                            title="Add reading panel">
                                        <svg class="icon" aria-hidden="true">
                                            <use href="assets/icons/sprite.svg#icon-plus"></use>
                                        </svg>
                                    </button>
                                    <button class="panel-control-btn"
                                            aria-label="Expand panel"
                                            id="expand-panel-btn"
                                            title="Expand panel">
                                        <svg class="icon" aria-hidden="true">
                                            <use href="assets/icons/sprite.svg#icon-maximize"></use>
                                        </svg>
                                    </button>
                                </div>
                            </header>

                            <!-- Article Content -->
                            <div class="panel-content" role="tabpanel">
                                <div class="article-header">
                                    <div class="article-meta">
                                        <span class="article-category badge badge-rust" id="article-category">Category</span>
                                        <span class="article-date" id="article-date">Date</span>
                                        <span class="article-reading-time" id="article-reading-time">
                                            <svg class="icon" aria-hidden="true">
                                                <use href="assets/icons/sprite.svg#icon-clock"></use>
                                            </svg>
                                            <span>-- min read</span>
                                        </span>
                                    </div>
                                    <h1 id="article-title" class="article-title">Article Title</h1>
                                    <p id="article-description" class="article-description">Article description</p>
                                    <div class="article-tags" id="article-tags">
                                        <!-- Tags will be dynamically populated -->
                                    </div>
                                </div>

                                <div class="article-body prose" id="article-body">
                                    <!-- Article content will be dynamically populated -->
                                </div>
                            </div>

                            <!-- Notes Tab Content -->
                            <div class="panel-content" role="tabpanel" hidden id="panel-notes">
                                <div class="notes-container prose" id="article-notes">
                                    <!-- Notes will be dynamically populated -->
                                </div>
                            </div>

                            <!-- Citations Tab Content -->
                            <div class="panel-content" role="tabpanel" hidden id="panel-citations">
                                <div class="citations-container" id="article-citations">
                                    <!-- Citations will be dynamically populated -->
                                </div>
                            </div>
                        </article>

                        <!-- Secondary Panel (hidden by default) -->
                        <article class="reader-panel" id="panel-secondary" hidden>
                            <header class="panel-header">
                                <div class="panel-tabs" role="tablist">
                                    <button class="panel-tab active" role="tab" aria-selected="true" data-tab="content">
                                        Content
                                    </button>
                                </div>
                                <div class="panel-controls">
                                    <button class="panel-control-btn" aria-label="Close panel" id="close-panel-btn">
                                        <svg class="icon" aria-hidden="true">
                                            <use href="assets/icons/sprite.svg#icon-close"></use>
                                        </svg>
                                    </button>
                                </div>
                            </header>
                            <div class="panel-content" role="tabpanel">
                                <!-- Secondary content -->
                            </div>
                        </article>
                    </div>
                </section>

                <!-- SEARCH RESULTS VIEW -->
                <section class="view view-search" id="view-search" aria-labelledby="search-title" hidden>
                    <header class="view-header">
                        <h1 id="search-title" class="page-title">Search Results</h1>
                        <p id="search-summary" class="view-subtitle">Showing results for "<span id="search-query"></span>"</p>
                    </header>

                    <div class="search-layout">
                        <!-- Faceted Filters -->
                        <aside class="search-facets" id="search-facets">
                            <div class="facet-group">
                                <h3 class="facet-title">Categories</h3>
                                <div class="facet-options" id="facet-categories">
                                    <!-- Category facets will be dynamically populated -->
                                </div>
                            </div>
                            <div class="facet-group">
                                <h3 class="facet-title">Tags</h3>
                                <div class="facet-options" id="facet-tags">
                                    <!-- Tag facets will be dynamically populated -->
                                </div>
                            </div>
                            <div class="facet-group">
                                <h3 class="facet-title">Reading Time</h3>
                                <div class="facet-options" id="facet-reading-time">
                                    <label class="facet-option">
                                        <input type="checkbox" value="short"> Under 5 min
                                    </label>
                                    <label class="facet-option">
                                        <input type="checkbox" value="medium"> 5-15 min
                                    </label>
                                    <label class="facet-option">
                                        <input type="checkbox" value="long"> Over 15 min
                                    </label>
                                </div>
                            </div>
                        </aside>

                        <!-- Search Results -->
                        <div class="search-results-container">
                            <div class="search-results-header">
                                <span id="results-count">0 results</span>
                                <div class="results-view-toggle">
                                    <button class="btn btn-ghost btn-icon btn-sm active" data-view="list" aria-label="List view">
                                        <svg class="icon" aria-hidden="true">
                                            <use href="assets/icons/sprite.svg#icon-list"></use>
                                        </svg>
                                    </button>
                                    <button class="btn btn-ghost btn-icon btn-sm" data-view="grid" aria-label="Grid view">
                                        <svg class="icon" aria-hidden="true">
                                            <use href="assets/icons/sprite.svg#icon-grid"></use>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="search-results" id="search-results">
                                <!-- Results will be dynamically populated -->
                            </div>
                            <div class="search-pagination" id="search-pagination">
                                <!-- Pagination will be dynamically populated -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- KNOWLEDGE GRAPH VIEW -->
                <section class="view view-graph" id="view-graph" aria-labelledby="graph-title" hidden>
                    <header class="view-header graph-header">
                        <h1 id="graph-title" class="page-title">Knowledge Graph</h1>
                        <div class="graph-controls">
                            <div class="graph-filter">
                                <label for="graph-category-filter" class="sr-only">Filter by category</label>
                                <select id="graph-category-filter" class="form-select form-select-sm">
                                    <option value="">All Categories</option>
                                    <!-- Options will be dynamically populated -->
                                </select>
                            </div>
                            <div class="graph-zoom">
                                <button class="btn btn-ghost btn-icon btn-sm" id="graph-zoom-in" aria-label="Zoom in">
                                    <svg class="icon" aria-hidden="true">
                                        <use href="assets/icons/sprite.svg#icon-plus"></use>
                                    </svg>
                                </button>
                                <button class="btn btn-ghost btn-icon btn-sm" id="graph-zoom-out" aria-label="Zoom out">
                                    <svg class="icon" aria-hidden="true">
                                        <use href="assets/icons/sprite.svg#icon-minus"></use>
                                    </svg>
                                </button>
                                <button class="btn btn-ghost btn-icon btn-sm" id="graph-reset" aria-label="Reset view">
                                    <svg class="icon" aria-hidden="true">
                                        <use href="assets/icons/sprite.svg#icon-refresh"></use>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </header>

                    <div class="graph-container" id="knowledge-graph">
                        <!-- D3.js graph will be rendered here -->
                        <div class="graph-loading">
                            <div class="loading-spinner"></div>
                            <p>Building knowledge connections...</p>
                        </div>
                    </div>

                    <!-- Graph Legend -->
                    <div class="graph-legend" id="graph-legend">
                        <!-- Legend will be dynamically populated -->
                    </div>

                    <!-- Node Info Panel -->
                    <div class="graph-info-panel parchment-card" id="graph-info-panel" hidden>
                        <button class="panel-close" aria-label="Close panel">
                            <svg class="icon" aria-hidden="true">
                                <use href="assets/icons/sprite.svg#icon-close"></use>
                            </svg>
                        </button>
                        <div class="node-info" id="node-info">
                            <!-- Node details will be dynamically populated -->
                        </div>
                    </div>
                </section>

            </div>
        </main>

        <!-- ================================================================
             RIGHT SIDEBAR (Table of Contents / Related)
             ================================================================ -->
        <aside class="app-aside" id="app-aside" role="complementary" aria-label="Article navigation">
            <!-- Table of Contents -->
            <div class="toc-container" id="toc-container">
                <h3 class="aside-title">On This Page</h3>
                <nav class="toc" aria-label="Table of contents">
                    <ol class="toc-list" id="toc-list">
                        <!-- TOC will be dynamically populated -->
                    </ol>
                </nav>
            </div>

            <!-- Related Articles -->
            <div class="related-container" id="related-container">
                <h3 class="aside-title">Related Articles</h3>
                <ul class="related-list" id="related-list">
                    <!-- Related articles will be dynamically populated -->
                </ul>
            </div>

            <!-- Article Actions -->
            <div class="article-actions" id="article-actions">
                <button class="btn btn-outline btn-sm btn-block" id="btn-print">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-download"></use>
                    </svg>
                    Export PDF
                </button>
                <button class="btn btn-outline btn-sm btn-block" id="btn-share">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-external"></use>
                    </svg>
                    Share
                </button>
            </div>
        </aside>

        <!-- ================================================================
             FOOTER
             ================================================================ -->
        <footer class="app-footer" role="contentinfo">
            <div class="footer-content">
                <p class="footer-tagline">
                    <span class="ornament">❧</span>
                    <em>Aim Twice, Shoot Once</em>
                    <span class="ornament">❧</span>
                </p>
                <p class="footer-credit">
                    Knowledge Nexus &copy; 2025 Dennis 'dnoice' Smaltz
                </p>
            </div>
        </footer>

    </div>

    <!-- ================================================================
         MOBILE NAVIGATION OVERLAY
         ================================================================ -->
    <div class="nav-overlay" id="nav-overlay" data-visible="false"></div>

    <!-- ================================================================
         SEARCH MODAL (Full-screen search on mobile)
         ================================================================ -->
    <div class="modal" id="search-modal" role="dialog" aria-labelledby="search-modal-title" aria-modal="true" hidden>
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="search-modal-title" class="modal-title">Search Knowledge Base</h2>
                <button class="modal-close" aria-label="Close search">
                    <svg class="icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-close"></use>
                    </svg>
                </button>
            </header>
            <div class="modal-body">
                <div class="search-box search-box-lg">
                    <svg class="search-icon" aria-hidden="true">
                        <use href="assets/icons/sprite.svg#icon-search"></use>
                    </svg>
                    <input type="search"
                           id="modal-search-input"
                           class="search-input"
                           placeholder="Search articles, topics, concepts..."
                           aria-label="Search"
                           autocomplete="off">
                </div>
                <div class="search-tips">
                    <p>Search tips:</p>
                    <ul>
                        <li>Use quotes for exact phrases: <code>"quantum computing"</code></li>
                        <li>Filter by category: <code>category:physics</code></li>
                        <li>Filter by tag: <code>tag:algorithms</code></li>
                    </ul>
                </div>
                <div id="modal-search-results" class="modal-search-results">
                    <!-- Quick results will appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================
         TOAST NOTIFICATIONS CONTAINER
         ================================================================ -->
    <div class="toast-container" id="toast-container" role="alert" aria-live="polite">
        <!-- Toasts will be dynamically added -->
    </div>

    <!-- ================================================================
         SCRIPTS
         ================================================================ -->
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3/dist/purify.min.js"></script>

    <!-- Application Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
